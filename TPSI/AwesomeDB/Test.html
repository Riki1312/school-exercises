<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>Test AwesomeDB</title>

    <script src="AwesomeDB.js"></script>
</head>
<body>
    <script>
        var adb = new AwesomeDB().MySQL;

        adb.Conn("localhost", "root", "", "compitivacanzees1");

        adb.Qu("SELECT * FROM utenti", (qdata) => {
            console.log(qdata);
        }).Qu("SELECT Nome FROM utenti", (qdata) => {
            console.log(qdata);
        }).Qu("SELECT * FROM veicoli WHERE ID = 1", (qdata) => {
            console.log(qdata);
        });

        adb.All("veicoli", (qdata) => {
            console.log(qdata);
        });

        adb.Qu("SELECT * FROM ciao", (res) => {
            console.log(res);
            console.log(res.length);
        });
/*

        adb.Ins("utenti", [{
            Nome: "a",
            Cognome: "b",
            Email: "c",
            Password: "d",
            Cellulare: "012345"
        },{
            Nome: "e",
            Cognome: "f",
            Email: "g",
            Password: "h",
            Cellulare: "67890"
        }], (res) => {
            console.log(res);
            adb.Qu("SELECT * FROM utenti", (qdata) => {
                console.log("qdata: ");
                console.log(qdata);
            });
        });*/
/*
        adb.Upd("utenti", 43, {
            Nome: "rrr",
            Cognome: "rr",
            Cellulare: "rrr",
        }, (res) => {
            console.log(res);
            adb.Qu("SELECT * FROM utenti", (qdata) => {
                console.log("Utenti: ");
                console.log(qdata);
            });
        });*/


        //Esecuzione di fatto sincrona
        adb.Rem("utenti", [35, 36, 37, 38, 39], (res) =>
        {
            console.log("remove!!");
            console.log(res);

            adb.Qu("SELECT * FROM utenti", (qdata) =>
            {
                console.log("Utenti: ");
                //console.log(qdata);
                console.table(qdata);

                adb.Upd("cccc", 37, {
                    Nome: "rrr",
                    Cognome: "rr",
                    Cellulare: "rrr",
                }, (res) =>
                {
                    console.log("update result: ");
                    console.log(res);
                });
            });
        });

    </script>
</body>